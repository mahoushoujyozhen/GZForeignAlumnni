import{_ as k,M as N,c as b}from"./index.11841eca.js";import{x as E,N as n,j,m as F,r as a,o as i,d as f,f as c,g as u,F as v,k as T,c as _,e as l,t as r,a as D,h as A}from"./vendor.e1400650.js";const V=E({name:"Enroll",components:{MobileNav:N,MemberNav:b,[n.Component.name]:n.Component},computed:{},watch:{},setup(){return console.log("setup"),j({list:[]})},created(){this.getActMsg(),console.log("created")},methods:{toDetail(t){this.$router.push(`/activityDetail/${t}/false`)},trial(){console.log("trial")},getActMsg(){fetch("api/user/peractmsg",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:new Headers({"Content-Type":"application/json"}),redirect:"follow"}).then(e=>e.json()).then(e=>{if(e.status==-999){F.warn("\u8D26\u53F7\u672A\u767B\u5F55\uFF0C\u8BF7\u5148\u767B\u5F55"),this.$router.push("login");return}if(e.status==-1999){F.warn("\u7BA1\u7406\u5458\u8D26\u53F7\u672A\u767B\u5F55\uFF0C\u8BF7\u5148\u767B\u5F55"),this.$router.push("login");return}this.list=e.data,console.log(this.list)}).catch(e=>{console.log(e),n({type:"warning",message:e})})},back(){console.log("it's function cancelActivity"),this.$router.push("/activityHomePage")},cancelActivity(t){let e=[];e.push(`act_id=${t.act_id}`);let d=e.join("&"),p="DELETE",m=`api/user/cancel?${d}`;fetch(m,{method:p,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:new Headers({"Content-Type":"application/json"}),redirect:"follow"}).then(o=>(console.log(o),o.json())).then(o=>{if(o.status!==0){n({type:"warning",message:o.msg,position:"top"});return}n({type:"success",message:"\u53D6\u6D88\u6210\u529F",position:"top"}),this.getActMsg()}).catch(o=>{console.log(o),n({type:"warning",message:o})})},finishActivity(){console.log("it's function finishActivity"),n({type:"warning",message:"\u6D3B\u52A8\u5DF2\u7ED3\u675F\uFF01\uFF01\uFF01",position:"bottom"})},getQrcode(){console.log("it's function getQrcode"),this.$router.push({path:"/qrcode"})}}}),q={class:"title"},x={class:"time"},H={class:"time"},z={class:"small-Msg"},L={class:"small-Msg"},O=A("\u53D6\u6D88\u62A5\u540D"),Q=A("\u6D3B\u52A8\u7ED3\u675F");function G(t,e,d,p,m,o){const y=a("MobileNav"),B=a("MemberNav"),h=a("van-col"),g=a("van-button"),C=a("van-row"),w=a("van-cell"),M=a("van-list");return i(),f(v,null,[c(y,{title:"\u6211\u7684\u6D3B\u52A8"}),c(B),c(M,null,{default:u(()=>[(i(!0),f(v,null,T(t.list,s=>(i(),_(w,null,{default:u(()=>[c(C,null,{default:u(()=>[c(h,{span:"18",onClick:$=>t.toDetail(s.act_id)},{default:u(()=>[l("div",q,r(s.act_name),1),l("div",x,"\u5F00\u59CB\u65F6\u95F4\uFF1A"+r(s.start_time),1),l("div",H,"\u7ED3\u675F\u65F6\u95F4\uFF1A"+r(s.end_time),1),l("div",z,"\u6D3B\u52A8\u5730\u70B9\uFF1A"+r(s.act_address),1),l("div",L,"\u62A5\u540D\u4EBA\u6570\uFF1A"+r(s.apply_num)+"\u4EBA",1)]),_:2},1032,["onClick"]),c(h,{span:"6",id:"apart-button"},{default:u(()=>[s.isOver=="true"?(i(),_(g,{key:0,plain:"",type:"primary",size:"small",onClick:$=>{t.cancelActivity(s)}},{default:u(()=>[O]),_:2},1032,["onClick"])):D("",!0),s.isOver=="false"?(i(),_(g,{key:1,color:"#DDDDDD",size:"small",onClick:t.finishActivity},{default:u(()=>[Q]),_:1},8,["onClick"])):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})],64)}var S=k(V,[["render",G],["__scopeId","data-v-2da722a2"]]);export{S as default};
